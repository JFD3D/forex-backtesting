var data = [
    0.81275,
    0.81317,
    0.81308,
    0.81303,
    0.81307,
    0.81313,
    0.81297,
    0.81298,
    0.81299,
    0.81285,
    0.81254,
    0.81261,
    0.81278,
    0.81281,
    0.81311,
    0.81322,
    0.81323,
    0.81310,
    0.81307,
    0.81324,
    0.81322,
    0.81305,
    0.81322,
    0.81322,
    0.81317,
    0.81297,
    0.81315,
    0.81317,
    0.81314,
    0.81314,
    0.81313,
    0.81303,
    0.81292,
    0.81301,
    0.81289,
    0.81285,
    0.81284,
    0.81283,
    0.81274,
    0.81248,
    0.81257,
    0.81263,
    0.81281,
    0.81290,
    0.81276,
    0.81243,
    0.81249,
    0.81247,
    0.81254,
    0.81271,
    0.81291,
    0.81294,
    0.81293,
    0.81291,
    0.81304,
    0.81303,
    0.81347,
    0.81328,
    0.81315,
    0.81273,
    0.81299,
    0.81337,
    0.81310,
    0.81318,
    0.81308,
    0.81286,
    0.81257,
    0.81284,
    0.81299,
    0.81304,
    0.81303,
    0.81329,
    0.81319,
    0.81319,
    0.81339,
    0.81340,
    0.81344,
    0.81365,
    0.81359,
    0.81391,
    0.81374,
    0.81365,
    0.81370,
    0.81365,
    0.81328,
    0.81340,
    0.81334,
    0.81316,
    0.81315,
    0.81358,
    0.81343,
    0.81340,
    0.81341,
    0.81323,
    0.81345,
    0.81344,
    0.81339,
    0.81350,
    0.81378,
    0.81380,
    0.81376,
    0.81384,
    0.81381,
    0.81382,
    0.81377,
    0.81376,
    0.81376,
    0.81393,
    0.81394,
    0.81386,
    0.81388,
    0.81377,
    0.81343,
    0.81338,
    0.81307,
    0.81306,
    0.81316,
    0.81321,
    0.81327,
    0.81320,
    0.81318,
    0.81313,
    0.81344,
    0.81361,
    0.81363,
    0.81365,
    0.81331,
    0.81301,
    0.81305,
    0.81317,
    0.81307,
    0.81311,
    0.81310,
    0.81328,
    0.81352,
    0.81348,
    0.81352,
    0.81351,
    0.81353,
    0.81334,
    0.81340,
    0.81356,
    0.81326,
    0.81305,
    0.81332,
    0.81332,
    0.81352,
    0.81364,
    0.81363,
    0.81388,
    0.81385,
    0.81365,
    0.81354,
    0.81350,
    0.81351,
    0.81359,
    0.81395,
    0.81388,
    0.81377,
    0.81372,
    0.81342,
    0.81357,
    0.81351,
    0.81371,
    0.81371,
    0.81374,
    0.81353,
    0.81339,
    0.81336,
    0.81329,
    0.81331,
    0.81324,
    0.81334,
    0.81341,
    0.81328,
    0.81331,
    0.81310,
    0.81324,
    0.81296,
    0.81319,
    0.81320,
    0.81354,
    0.81336,
    0.81357,
    0.81356,
    0.81337,
    0.81336,
    0.81319,
    0.81326,
    0.81317,
    0.81310,
    0.81316,
    0.81315,
    0.81314,
    0.81310,
    0.81288,
    0.81285,
    0.81287,
    0.81284,
    0.81280,
    0.81162,
    0.81176,
    0.81183,
    0.81166,
    0.81157,
    0.81156,
    0.81162,
    0.81161,
    0.81168,
    0.81145,
    0.81158,
    0.81170,
    0.81174,
    0.81176,
    0.81175,
    0.81186,
    0.81192,
    0.81206,
    0.81211,
    0.81206,
    0.81193,
    0.81201,
    0.81212,
    0.81207,
    0.81226,
    0.81210,
    0.81227,
    0.81228,
    0.81237,
    0.81254,
    0.81257,
    0.81288,
    0.81276,
    0.81234,
    0.81253,
    0.81255,
    0.81267,
    0.81228,
    0.81228,
    0.81242,
    0.81254,
    0.81257,
    0.81259,
    0.81248,
    0.81247,
    0.81247,
    0.81253,
    0.81265,
    0.81244,
    0.81245,
    0.81247,
    0.81265,
    0.81278,
    0.81252,
    0.81253,
    0.81229,
    0.81195,
    0.81202,
    0.81203,
    0.81200,
    0.81147,
    0.81181,
    0.81184,
    0.81177,
    0.81166,
    0.81186,
    0.81229,
    0.81225,
    0.81269,
    0.81217,
    0.81230,
    0.81226,
    0.81280,
    0.81276,
    0.81287,
    0.81249,
    0.81239,
    0.81247,
    0.81221,
    0.81220,
    0.81197,
    0.81170,
    0.81169,
    0.81186,
    0.81200,
    0.81253,
    0.81248,
    0.81245,
    0.81258,
    0.81222,
    0.81251,
    0.81264,
    0.81249,
    0.81256,
    0.81270,
    0.81271,
    0.81260,
    0.81259,
    0.81249,
    0.81253,
    0.81264,
    0.81241,
    0.81240,
    0.81213,
    0.81231,
    0.81241,
    0.81230,
    0.81240,
    0.81262,
    0.81248,
    0.81211,
    0.81203,
    0.81208,
    0.81215,
    0.81218,
    0.81210,
    0.81220,
    0.81233,
    0.81210,
    0.81194,
    0.81203,
    0.81230,
    0.81199,
    0.81210,
    0.81230,
    0.81224,
    0.81167,
    0.81180,
    0.81193,
    0.81186,
    0.81173,
    0.81187,
    0.81186,
    0.81193,
    0.81191,
    0.81198,
    0.81211,
    0.81220,
    0.81228,
    0.81222,
    0.81224,
    0.81194,
    0.81196,
    0.81186,
    0.81195,
    0.81218,
    0.81229,
    0.81234,
    0.81242,
    0.81239,
    0.81262,
    0.81278,
    0.81275,
    0.81278,
    0.81293,
    0.81278,
    0.81280,
    0.81280,
    0.81282,
    0.81275,
    0.81256,
    0.81260,
    0.81282,
    0.81277,
    0.81271,
    0.81288,
    0.81285,
    0.81303,
    0.81307,
    0.81266,
    0.81304,
    0.81297,
    0.81290,
    0.81312,
    0.81339,
    0.81343,
    0.81392,
    0.81398,
    0.81397,
    0.81396,
    0.81415,
    0.81459,
    0.81450,
    0.81436,
    0.81453,
    0.81434,
    0.81437,
    0.81436,
    0.81425,
    0.81420,
    0.81408,
    0.81410,
    0.81398,
    0.81397,
    0.81396,
    0.81395,
    0.81385,
    0.81381,
    0.81390,
    0.81390,
    0.81396,
    0.81396,
    0.81408,
    0.81402,
    0.81395,
    0.81415,
    0.81411,
    0.81412,
    0.81404,
    0.81404,
    0.81416,
    0.81412,
    0.81392,
    0.81431,
    0.81411,
    0.81405,
    0.81385,
    0.81386,
    0.81387,
    0.81379,
    0.81379,
    0.81379,
    0.81394,
    0.81384,
    0.81371,
    0.81372,
    0.81371,
    0.81376,
    0.81375,
    0.81370,
    0.81373,
    0.81381,
    0.81383,
    0.81377,
    0.81379,
    0.81373,
    0.81378,
    0.81387,
    0.81374,
    0.81376,
    0.81375,
    0.81375,
    0.81371,
    0.81353,
    0.81361,
    0.81357,
    0.81360,
    0.81351,
    0.81344,
    0.81341,
    0.81339,
    0.81336,
    0.81337,
    0.81340,
    0.81330,
    0.81340,
    0.81318,
    0.81317,
    0.81321,
    0.81295,
    0.81287,
    0.81285,
    0.81267,
    0.81287,
    0.81279,
    0.81279,
    0.81278,
    0.81271,
    0.81290,
    0.81293,
    0.81293,
    0.81284,
    0.81282,
    0.81285,
    0.81276,
    0.81262,
    0.81257,
    0.81250,
    0.81254,
    0.81265,
    0.81262,
    0.81269,
    0.81269,
    0.81273,
    0.81266,
    0.81256,
    0.81265,
    0.81285,
    0.81270,
    0.81268,
    0.81267,
    0.81274,
    0.81269,
    0.81258,
    0.81263,
    0.81256,
    0.81238,
    0.81235,
    0.81225,
    0.81221,
    0.81192,
    0.81184,
    0.81182,
    0.81166,
    0.81181,
    0.81197,
    0.81192,
    0.81185,
    0.81193,
    0.81205,
    0.81199,
    0.81207,
    0.81227,
    0.81216,
    0.81224,
    0.81230,
    0.81228,
    0.81214,
    0.81218,
    0.81215,
    0.81223,
    0.81220,
    0.81218,
    0.81220,
    0.81220,
    0.81229,
    0.81226,
    0.81242,
    0.81249,
    0.81253,
    0.81255,
    0.81257,
    0.81246,
    0.81268,
    0.81274,
    0.81279,
    0.81274,
    0.81262,
    0.81261,
    0.81263,
    0.81256,
    0.81250,
    0.81250,
    0.81262,
    0.81287,
    0.81282,
    0.81288,
    0.81268,
    0.81270,
    0.81270,
    0.81272,
    0.81264,
    0.81258,
    0.81267,
    0.81259,
    0.81254,
    0.81258,
    0.81266,
    0.81290,
    0.81305,
    0.81305,
    0.81309,
    0.81311,
    0.81316,
    0.81323,
    0.81320,
    0.81324,
    0.81329,
    0.81333,
    0.81324,
    0.81335,
    0.81327,
    0.81324,
    0.81334,
    0.81313,
    0.81318,
    0.81319,
    0.81321,
    0.81317,
    0.81318,
    0.81302,
    0.81295,
    0.81289,
    0.81287,
    0.81281,
    0.81274,
    0.81260,
    0.81268,
    0.81261,
    0.81254,
    0.81262,
    0.81264,
    0.81279,
    0.81254,
    0.81258,
    0.81250,
    0.81239,
    0.81207,
    0.81203,
    0.81196,
    0.81195,
    0.81185,
    0.81183,
    0.81150,
    0.81118,
    0.81140,
    0.81150,
    0.81160,
    0.81118,
    0.81125,
    0.81113,
    0.81117,
    0.81109,
    0.81080,
    0.81105,
    0.81155,
    0.81134,
    0.81156,
    0.81144,
    0.81138,
    0.81156,
    0.81162,
    0.81159,
    0.81140,
    0.81130,
    0.81126,
    0.81148,
    0.81165,
    0.81154,
    0.81142,
    0.81118,
    0.81110,
    0.81111,
    0.81129,
    0.81125,
    0.81133,
    0.81121,
    0.81104,
    0.81105,
    0.81130,
    0.81137,
    0.81141,
    0.81141,
    0.81133,
    0.81139,
    0.81141,
    0.81147,
    0.81164,
    0.81168,
    0.81175,
    0.81177,
    0.81177,
    0.81153,
    0.81145,
    0.81149,
    0.81141,
    0.81147,
    0.81148,
    0.81153,
    0.81147,
    0.81144,
    0.81140,
    0.81141,
    0.81138,
    0.81117,
    0.81096,
    0.81089,
    0.81088,
    0.81091,
    0.81090,
    0.81093,
    0.81097,
    0.81098
];

var cumulativeData = [];
var studyFn = require('./src/studies/Rsi');
var study = new studyFn({length: 7}, {rsi: 'rsi'});

data.forEach(function(price) {
    var dataPoint = {close: price};

    cumulativeData.push(dataPoint);

    var studyProperty = '';
    var studyTickValue = 0.0;
    var studyOutputs = study.getOutputMappings();

    // Update the data for the study.
    study.setData(cumulativeData);

    var studyTickValues = study.tick();

    // Augment the last data point with the data the study generates.
    for (studyProperty in studyOutputs) {
        if (studyTickValues && typeof studyTickValues[studyOutputs[studyProperty]] === 'number') {
            // Include output in main output, and limit decimal precision without rounding.
            dataPoint[studyOutputs[studyProperty]] = studyTickValues[studyOutputs[studyProperty]];
        }
        else {
            dataPoint[studyOutputs[studyProperty]] = '';
        }
    }

    console.log(JSON.stringify(dataPoint));
});
